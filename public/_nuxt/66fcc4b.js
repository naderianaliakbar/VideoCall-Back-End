(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{631:function(e,r,t){"use strict";t.r(r);var n=t(18),o=(t(89),t(3),t(79)),l={name:"register",auth:"guest",middleware:"auth",components:{ValidationObserver:o.a,ValidationProvider:o.b},data:function(){return{firstName:"",lastName:"",email:"",password:"",confirmPassword:"",loading:!1}},head:{title:"Register"},mounted:function(){},methods:{submit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.loading=!0,e.$axios.post("auth/register",{firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password}).then(function(){var r=Object(n.a)(regeneratorRuntime.mark((function r(t){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$auth.setUserToken(t.data.token);case 2:return e.$notifier.showMessage({content:e.$t("REGISTER_SUCCESSFUL"),color:"success"}),r.next=5,e.$router.push({path:"/dashboard"});case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()).catch((function(r){var t=r.response;if(t.status){if(406===t.status)e.$notifier.showMessage({content:e.$t("EMAIL_EXISTS"),color:"error"})}else e.$notifier.showMessage({content:e.$t("REQUEST_FAILED"),color:"error"})})).finally((function(){e.loading=!1}));case 2:case"end":return r.stop()}}),r)})))()}}},d=l,c=t(81),m=t(74),f=t.n(m),v=t(531),h=t(547),w=t(548),_=t(45),k=t(250),component=Object(c.a)(d,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-sheet",{staticClass:"pa-5 rounded-lg",attrs:{"min-height":"80vh"}},[t("h1",[e._v(e._s(e.$t("REGISTER")))]),e._v(" "),t("v-row",[t("v-col",{attrs:{cols:"12",md:"6","offset-md":"3"}},[t("validation-observer",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(r){var n=r.invalid;return[t("form",{on:{submit:function(r){return r.preventDefault(),e.submit.apply(null,arguments)}}},[t("validation-provider",{attrs:{name:"first name",rules:"required|max:20"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors,o=r.valid;return[t("v-text-field",{attrs:{counter:20,disabled:e.loading,"error-messages":n,color:o?"green":"","append-icon":o?"mdi-check":"",label:e.$t("FIRST_NAME")},model:{value:e.firstName,callback:function(r){e.firstName=r},expression:"firstName"}})]}}],null,!0)}),e._v(" "),t("validation-provider",{attrs:{name:"last name",rules:"required|max:20"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors,o=r.valid;return[t("v-text-field",{attrs:{counter:20,disabled:e.loading,"error-messages":n,color:o?"green":"","append-icon":o?"mdi-check":"",label:e.$t("LAST_NAME")},model:{value:e.lastName,callback:function(r){e.lastName=r},expression:"lastName"}})]}}],null,!0)}),e._v(" "),t("validation-provider",{attrs:{name:"email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors,o=r.valid;return[t("v-text-field",{attrs:{"error-messages":n,disabled:e.loading,color:o?"green":"","append-icon":o?"mdi-check":"","prepend-inner-icon":"mdi-email-outline",label:e.$t("E_MAIL")},model:{value:e.email,callback:function(r){e.email=r},expression:"email"}})]}}],null,!0)}),e._v(" "),t("validation-provider",{attrs:{name:"password",rules:"required|min:8"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors,o=r.valid;return[t("v-text-field",{attrs:{"error-messages":n,disabled:e.loading,color:o?"green":"","append-icon":o?"mdi-check":"",label:e.$t("PASSWORD"),"prepend-inner-icon":"mdi-lock",type:"password"},model:{value:e.password,callback:function(r){e.password=r},expression:"password"}})]}}],null,!0)}),e._v(" "),t("validation-provider",{attrs:{name:"confirmPassword",rules:"required|confirmed:password"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors,o=r.valid;return[t("v-text-field",{attrs:{disabled:e.loading,"error-messages":n,color:o?"green":"","append-icon":o?"mdi-check":"",label:e.$t("CONFIRM_PASSWORD"),"prepend-inner-icon":"mdi-lock-check",type:"password"},model:{value:e.confirmPassword,callback:function(r){e.confirmPassword=r},expression:"confirmPassword"}})]}}],null,!0)}),e._v(" "),t("v-btn",{staticClass:"float-left my-6 mx-5",attrs:{color:"primary",type:"submit",disabled:n,loading:e.loading}},[e._v("\n            "+e._s(e.$t("REGISTER"))+"\n          ")]),e._v(" "),t("v-btn",{staticClass:"float-left my-6",attrs:{color:"accent",to:"/login",nuxt:""}},[e._v(e._s(e.$t("LOGIN")))])],1)]}}])})],1)],1)],1)}),[],!1,null,"56148e3e",null);r.default=component.exports;f()(component,{VBtn:v.a,VCol:h.a,VRow:w.a,VSheet:_.a,VTextField:k.a})}}]);